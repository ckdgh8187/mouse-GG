<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Block Blast Clone - Anti-Gravity</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@700;900&family=Inter:wght@400;600;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="game-container">
        <canvas id="game-canvas"></canvas>
        <div id="ui-layer">
            <!-- Global HUD (Gold) -->
            <div id="gold-hud" class="hidden">
                <div class="gold-container">
                    <div class="coin-icon"></div>
                    <span id="gold-value">0</span>
                </div>
            </div>

            <!-- Main Menu Screen -->
            <div id="main-menu" class="ui-screen">
                <img src="asset/image/logo.png" alt="Block Blast Logo" class="main-logo">
                <div class="menu-buttons">
                    <button id="start-game-btn" class="main-btn">Game Start</button>
                    <button id="shop-btn" class="secondary-btn">SHOP</button>
                    <button id="reset-data-btn" class="debug-btn">RESET DATA</button>
                    <button id="unlock-all-btn" class="debug-btn">UNLOCK ALL</button>
                </div>
            </div>

            <!-- Mode Selection Screen -->
            <div id="mode-selection" class="ui-screen hidden">
                <h2>Select Mode</h2>
                <div class="mode-buttons">
                    <button id="challenge-mode-btn" class="main-btn">Challenge Mode</button>
                    <button id="stage-mode-btn" class="main-btn">Stage Mode</button>
                </div>
                <button id="back-to-menu-btn" class="text-btn">Back</button>
            </div>

            <!-- Stage Selection Screen -->
            <div id="stage-selection" class="ui-screen hidden">
                <div class="stage-selection-container glass-panel">
                    <h2 class="stage-selection-title">CHOOSE STAGE</h2>
                    <div id="stage-grid" class="stage-grid">
                        <!-- Stage buttons will be generated here -->
                    </div>
                    <button id="back-to-mode-btn" class="secondary-btn">BACK</button>
                </div>
            </div>

            <!-- Shop Screen -->
            <div id="shop-screen" class="ui-screen hidden">
                <div class="shop-container glass-panel">
                    <h2 class="shop-title">ITEM SHOP</h2>

                    <div class="shop-items-grid">
                        <!-- Individual Items with Inventory Count -->
                        <div class="shop-item" data-item="bomb" data-price="50">
                            <div class="item-icon bomb">üí£</div>
                            <div class="item-info">
                                <span class="item-name">BOMB</span>
                                <span class="item-price">50G</span>
                                <span class="item-owned">OWNED: <span id="owned-bomb">0</span></span>
                            </div>
                            <button class="buy-btn">BUY</button>
                        </div>
                        <div class="shop-item" data-item="laser" data-price="65">
                            <div class="item-icon laser">üöÄ</div>
                            <div class="item-info">
                                <span class="item-name">LASER</span>
                                <span class="item-price">65G</span>
                                <span class="item-owned">OWNED: <span id="owned-laser">0</span></span>
                            </div>
                            <button class="buy-btn">BUY</button>
                        </div>
                        <div class="shop-item" data-item="hourglass" data-price="85">
                            <div class="item-icon hourglass">‚è≥</div>
                            <div class="item-info">
                                <span class="item-name">HOURGLASS</span>
                                <span class="item-price">85G</span>
                                <span class="item-owned">OWNED: <span id="owned-hourglass">0</span></span>
                            </div>
                            <button class="buy-btn">BUY</button>
                        </div>

                        <!-- Bundle Items -->
                        <div class="shop-item bundle" data-item="bomb_5" data-price="225">
                            <div class="item-icon">üí£ x5</div>
                            <div class="item-info">
                                <span class="item-name">BOMB BUNDLE</span>
                                <span class="item-price"><del>250G</del> 225G</span>
                                <span class="discount-badge">-10%</span>
                            </div>
                            <button class="buy-btn">BUY</button>
                        </div>
                        <div class="shop-item bundle" data-item="laser_5" data-price="290">
                            <div class="item-icon">üöÄ x5</div>
                            <div class="item-info">
                                <span class="item-name">LASER BUNDLE</span>
                                <span class="item-price"><del>325G</del> 290G</span>
                                <span class="discount-badge">-11%</span>
                            </div>
                            <button class="buy-btn">BUY</button>
                        </div>
                        <div class="shop-item bundle" data-item="hourglass_5" data-price="380">
                            <div class="item-icon">‚è≥ x5</div>
                            <div class="item-info">
                                <span class="item-name">WATCH BUNDLE</span>
                                <span class="item-price"><del>425G</del> 380G</span>
                                <span class="discount-badge">-11%</span>
                            </div>
                            <button class="buy-btn">BUY</button>
                        </div>
                        <div class="shop-item bundle starter" data-item="all_set" data-price="180">
                            <div class="item-icon">üéÅ SET</div>
                            <div class="item-info">
                                <span class="item-name">STARTER SET</span>
                                <span class="item-price"><del>200G</del> 180G</span>
                                <span class="discount-badge">-10%</span>
                            </div>
                            <button class="buy-btn">BUY</button>
                        </div>
                    </div>

                    <button id="close-shop-btn" class="secondary-btn">CLOSE</button>
                </div>
            </div>

            <!-- Gameplay UI (HUD) -->
            <div id="gameplay-ui" class="hidden">
                <div class="score-container">
                    <span id="score-label">SCORE</span>
                    <span id="score-value">0</span>
                    <div id="best-score-container">
                        <span id="best-label">BEST: </span>
                        <span id="best-value">0</span>
                    </div>
                    <!-- New: Stage Target Display -->
                    <div id="stage-target-container" class="hidden">
                        <span id="target-label">TARGET: </span>
                        <span id="target-value">1000</span>
                    </div>
                </div>

                <!-- Stage Status Message -->
                <div id="stage-status" class="hidden">
                    <span id="stage-status-text">STAGE CLEARED!</span>
                </div>

                <!-- In-game Items Bar -->
                <div id="item-bar">
                    <div class="game-item" data-item="bomb" id="game-item-bomb">
                        <div class="item-icon">üí£</div>
                        <span class="item-count">0</span>
                    </div>
                    <div class="game-item" data-item="laser" id="game-item-laser">
                        <div class="item-icon">‚ö°</div>
                        <span class="item-count">0</span>
                    </div>
                    <div class="game-item" data-item="hourglass" id="game-item-hourglass">
                        <div class="item-icon">‚è≥</div>
                        <span class="item-count">0</span>
                    </div>
                </div>

                <!-- Settings Button (Top Left) -->
                <button id="settings-btn" class="icon-btn">‚öôÔ∏è</button>
            </div>

            <!-- Game Over Screen -->
            <div id="game-over-screen" class="ui-screen hidden">
                <div id="game-over-content">
                    <h1>GAME OVER</h1>
                    <div class="final-score-container">
                        <p>SCORE</p>
                        <div id="final-score">0</div>
                    </div>
                    <div id="best-badge" class="hidden">NEW BEST!</div>
                    <div id="best-effect" class="hidden">‚ú®</div>

                    <div class="button-group">
                        <button id="restart-btn" class="menu-btn primary-btn">TRY AGAIN</button>
                        <button id="exit-to-menu-btn" class="menu-btn secondary-btn">MAIN MENU</button>
                    </div>
                </div>
            </div>

            <!-- Stage Clear Screen -->
            <div id="stage-clear-screen" class="ui-screen hidden">
                <div id="stage-clear-content">
                    <div class="success-icon">üèÜ</div>
                    <h1 class="stage-clear-title">STAGE CLEAR!</h1>
                    <div class="stage-number-display">STAGE <span id="cleared-stage-num">1</span></div>

                    <div class="button-group">
                        <button id="next-stage-btn" class="menu-btn primary-btn">NEXT STAGE</button>
                        <button id="stage-clear-menu-btn" class="menu-btn secondary-btn">MAIN MENU</button>
                    </div>
                </div>
            </div>

            <!-- Settings Screen -->
            <div id="settings-screen" class="ui-screen hidden">
                <div class="settings-container glass-panel">
                    <h2 class="settings-title">SETTINGS</h2>

                    <div class="settings-list">
                        <div class="settings-item">
                            <span>Background Music</span>
                            <label class="switch">
                                <input type="checkbox" id="bgm-toggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="settings-item">
                            <span>Sound Effects</span>
                            <label class="switch">
                                <input type="checkbox" id="sfx-toggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="settings-item">
                            <span>Vibration</span>
                            <label class="switch">
                                <input type="checkbox" id="vibrate-toggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="settings-item">
                            <span>Dark Mode</span>
                            <label class="switch">
                                <input type="checkbox" id="dark-mode-toggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="settings-actions">
                        <button id="settings-home-btn" class="action-btn">üè† Home</button>
                        <button id="settings-replay-btn" class="action-btn">üîÑ Replay</button>
                    </div>

                    <button id="close-settings-btn" class="main-btn">CLOSE</button>
                </div>
            </div>
        </div>
    </div>
    <script src="js/SoundAssets.js"></script>
    <script src="js/game.js"></script>
</body>

</html>